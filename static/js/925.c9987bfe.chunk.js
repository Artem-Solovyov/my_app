"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[925],{925:function(e,r,t){t.r(r);var n=t(885),i=t(2791),s=t(8687),a=t(3229),l=t(184),u=function(){var e=(0,s.v9)((function(e){return e.chat.status})),r=(0,s.I0)();return(0,i.useEffect)((function(){return r((0,a.WE)()),function(){}}),[]),(0,l.jsxs)("div",{children:["error"===e&&(0,l.jsx)("div",{children:"Error. Please refresh the page"}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d,{}),(0,l.jsx)(c,{})]})]})},d=function(){var e=(0,i.useRef)(null),r=(0,s.v9)((function(e){return e.chat.messages})),t=(0,i.useState)(!0),a=(0,n.Z)(t,2),u=a[0],d=a[1];(0,i.useEffect)((function(){var r;u&&(null===(r=e.current)||void 0===r||r.scrollIntoView({behavior:"smooth"}))}),[r]);return(0,l.jsxs)("div",{style:{height:"300px",overflowY:"auto",marginBottom:"20px",maxWidth:"700px",marginLeft:"40px"},onScroll:function(e){var r=e.currentTarget;Math.abs(r.scrollHeight-r.scrollTop-r.clientHeight)<300?!u&&d(!0):u&&d(!1)},children:[r.map((function(e,r){return(0,l.jsx)(o,{message:e},r)})),(0,l.jsx)("div",{ref:e})]})},o=i.memo((function(e){var r=e.message,t=(0,s.v9)((function(e){return e.auth.id}));return(0,l.jsx)("div",{children:t===r.userId?(0,l.jsxs)("div",{style:{textAlign:"right"},children:[(0,l.jsx)("b",{children:r.userName})," ",(0,l.jsx)("img",{src:r.photo,style:{width:"40px",borderRadius:"50%"}}),(0,l.jsx)("br",{}),(0,l.jsx)("div",{style:{textAlign:"left",borderRadius:"7px",paddingLeft:"7px",marginRight:"45px",display:"inline-block",minWidth:"150px",minHeight:"25px",backgroundColor:"blueviolet"},children:r.message})]}):(0,l.jsxs)("div",{children:[(0,l.jsx)("img",{src:r.photo,style:{width:"40px",borderRadius:"50%"}})," ",(0,l.jsx)("b",{children:r.userName}),(0,l.jsx)("br",{}),(0,l.jsx)("div",{style:{borderRadius:"7px",paddingLeft:"7px",marginLeft:"45px",display:"inline-block",minWidth:"150px",minHeight:"25px",backgroundColor:"blueviolet"},children:r.message})]})})})),c=function(){var e=(0,i.useState)(""),r=(0,n.Z)(e,2),t=r[0],u=r[1],d=(0,s.I0)(),o=(0,s.v9)((function(e){return e.chat.status}));return(0,l.jsxs)("div",{style:{maxWidth:"700px",marginLeft:"40px",display:"flex"},children:[(0,l.jsx)("div",{children:(0,l.jsx)("textarea",{placeholder:"Enter your message...",cols:90,onChange:function(e){return u(e.currentTarget.value)},value:t})}),(0,l.jsx)("div",{style:{marginLeft:"20px",marginTop:"10px"},children:(0,l.jsx)("button",{disabled:"ready"!==o,onClick:function(){t&&(d((0,a.bG)(t)),u(""))},children:"Send"})})]})};r.default=function(){return(0,l.jsx)("div",{children:(0,l.jsx)(u,{})})}}}]);
//# sourceMappingURL=925.c9987bfe.chunk.js.map